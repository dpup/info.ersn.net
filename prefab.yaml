server:
  port: 8080

security:
  xFrameOptions: DENY  # X-Frame-Options header
  
  # CORS settings
  corsOrigins:
    - https://ersn.net
    - http://localhost:8080
  corsAllowedMethods:
    - GET
  corsAllowedHeaders:
    - x-csrf-protection
  corsAllowCredentials: true
  corsMaxAge: 72h
  
  # HSTS settings
  hstsExpiration: 31536000s
  hstsIncludeSubdomains: true
  hstsPreload: true

# App Config
roads:
  google_routes:
    refresh_interval: "5m"
    stale_threshold: "10m"
    api_key: ""  # Set via PF__ROADS__GOOGLE_ROUTES__API_KEY env var
  caltrans_feeds:
    # TODO: Re-enable chain_controls in winter when actual chain requirement data is available
    chain_controls:
      refresh_interval: "30m"  # Less frequent, changes slowly (UNUSED - no winter data available)
      url: "https://quickmap.dot.ca.gov/data/cc.kml"
    lane_closures:
      refresh_interval: "10m"
      url: "https://quickmap.dot.ca.gov/data/lcs2way.kml"
    chp_incidents:
      refresh_interval: "5m"   # More frequent, incidents change quickly
      url: "https://quickmap.dot.ca.gov/data/chp-only.kml"
  monitored_roads:
    - name: "Hwy 4"
      section: "Angels Camp to Murphys"
      id: "hwy4-angels-murphys"
      origin:
        latitude: 38.067400
        longitude: -120.540200
      destination:
        latitude: 38.139117
        longitude: -120.456111
    - name: "Hwy 4"
      section: "Murphys to Arnold"  
      id: "hwy4-murphys-arnold"
      origin:
        latitude: 38.139117
        longitude: -120.456111
      destination:
        latitude: 38.265006
        longitude: -120.333654
    - name: "Hwy 4"
      section: "Arnold to Bear Valley"
      id: "hwy4-arnold-bearvalley"
      origin:
        latitude: 38.265006
        longitude: -120.333654
      destination:
        latitude: 38.461045
        longitude: -120.042368

weather:
  refresh_interval: "5m"
  stale_threshold: "10m"
  openweather_api_key: ""  # Set via PF__WEATHER__OPENWEATHER_API_KEY env var
  locations:
    - id: "murphys"
      name: "Murphys, CA"
      lat: 38.139117
      lon: -120.456111
    - id: "arnold"  
      name: "Arnold, CA"
      lat: 38.265006
      lon: -120.333654
    - id: "dorrington"
      name: "Dorrington, CA"
      lat: 38.301275
      lon: -120.276705
    - id: "bearvalley"
      name: "Bear Valley, CA"
      lat: 38.461045
      lon: -120.042368